<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://lgiacomazzi.github.io/produttare/js_base_produttare.js"></script>
    <script src="https://cdnjs.com/libraries/Chart.js"></script>
  </head>
  <body>
    <section id="main">
      <div class="container py-lg-5 p-4">
        <div class="row" style="max-width: 400px">
          <div class="col col-md">
            <img
              class="w-100 mb-5"
              src="https://d335luupugsy2.cloudfront.net/cms/files/76250/1568639098/$bbt72l2bklm"
            />
          </div>
          <div class="col col-md">
            <img
              class="w-100 mb-5"
              src="https://d335luupugsy2.cloudfront.net/cms/files/76250/1570563258/$n90164pjbxo"
            />
          </div>
        </div>
      </div>
    </section>
    <section class="container-fluid bg-light border-bottom border-top mb-4">
      <div class="container py-lg-5 py-4">
        <h1>Calculadora de OEE e Benchmark da Indústria</h1>
        <p class="lead">
          Compare suas métricas de eficiência e desempenho com empresas do mesmo
          segmento que o seu
        </p>
      </div>
    </section>
    <section class="container-fluid">
      <div id="fields" class="container col-sm-6">
        <form class="w-100">
          <div class="form-group py-lg-5 py-3">
            <label for="segmento"
              ><h3>Selecione seu segmento de atuação:</h3></label
            >
            <select class="form-control form-control-lg" id="segmento">
              <option>Alimentos e Bebidas</option>
              <option>Autopeças </option>
              <option>Construção Civil </option>
              <option>Eletro & Eletrônicos </option>
              <option>Montadoras </option>
              <option>Móveis </option>
              <option>Brinquedos </option>
              <option>Têxtil </option>
              <option>Semicondutores </option>
              <option>Plásticos </option>
              <option>Fundição </option>
              <option>Aeroespacial & Defesa </option>
              <option>Metal Mecânico </option>
              <option>Maquinas e Equipamentos </option>
              <option>Petroquimico </option>
              <option>Produtos Médicos </option>
              <option>Outros (industry average) </option>
            </select>
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label>
              <p>
                Um gargalo de produção é o recurso, máquina, equipamento ou
                centro de trabalho mais lento no processo produtivo. Deste modo,
                a produção da fábrica é limitada à capacidade ou velocidade do
                gargalo.
              </p>
              <h3>A máquina que você quer analisar é gargalo?</h3></label
            >
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="Radios"
                id="gargalo"
                value="option1"
                checked
              />
              <label class="form-check-label" for="gargalo">
                Máquina gargalo
              </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="radio"
                name="Radios"
                id="ngargalo"
                value="option2"
              />
              <label class="form-check-label" for="ngargalo">
                Máquina <b>não</b> é gargalo
              </label>
            </div>
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="calendario">
              <h3>Tempo de Calendário</h3>
              <p>
                Qual o tempo que você deseja analisar? Pode ser um turno, um
                dia, uma semana ou um mês. O tempo de calendário representa todo
                o calendário disponível para produção. Coloque sempre as
                informações em minutos.
              </p>
              <p>
                <b>Exemplo:</b><br />1 turno = 8 horas = 480 minutos<br />3
                turnos = 24 horas = 1440 minutos
              </p></label
            >
            <input
              type="number"
              class="form-control form-control-lg"
              id="calendario"
              placeholder="Minutos"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="paradasp"
              ><h3>Paradas Programadas</h3>
              <p>
                Tempo que é dedicado a dedicado a eventos programados tais como:
                refeições, manutenções planejadas, reuniões ou treinamentos.
              </p>
            </label>

            <input
              type="number"
              class="form-control form-control-lg"
              id="paradasp"
              placeholder="Minutos"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="paradasnp"
              ><h3>Paradas Não Programadas</h3>
              <p>
                Minutos gastos em eventos não programados tais como: quebra de
                máquina, falta de matéria-prima, falta de energia...
              </p></label
            >

            <input
              type="number"
              class="form-control form-control-lg"
              id="paradasnp"
              placeholder="Minutos"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="tempo"
              ><h3>Tempo padrão 1 item</h3>
              <p>
                É definido pela engenharia de produção como o tempo necessário
                para que um recurso execute uma operação no processo na
                fabricação de um produto.
              </p></label
            >

            <input
              type="number"
              class="form-control form-control-lg"
              id="tempo"
              placeholder="Minutos"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="qnt"
              ><h3>Itens Produzidos</h3>
              <p>
                Refere-se a quantidade de itens que foram fabricados no recurso
                que esta sendo monitorado, no tempo que está sendo levado em
                consideração.
              </p></label
            >

            <input
              type="number"
              class="form-control form-control-lg"
              id="qnt"
              placeholder="Unidades"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="refugo"
              ><h3>Refugo</h3>
              <p>
                Refere-se a quantidade de itens <b>não aprovados</b> que foram
                fabricados na máquina que esta sendo monitorada.
              </p></label
            >

            <input
              type="number"
              class="form-control form-control-lg"
              id="refugo"
              placeholder="Unidades"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="totalqnt"><h3>Itens Produzidos Mensalmente</h3></label>
            <p>
              Informe o quantidade total de produção (peças boas), no recurso
              crítico (gargalo), que esta sendo simulado.
            </p>
            <input
              type="number"
              class="form-control form-control-lg"
              id="totalqnt"
              placeholder="Unidades"
            />
          </div>
          <hr />
          <div class="form-group py-lg-5 py-3">
            <label for="price"
              ><h3>Margem de Lucro Médio por Item</h3>
              <p>
                Tendo como base a quantidade informada de produção mensal,
                informe o valor médio de lucro dos itens que são produzidos no
                recurso que está sendo simulado.
              </p>
            </label>

            <input
              type="number"
              class="form-control form-control-lg"
              id="price"
              placeholder="R$"
            />
          </div>
          <a
            onclick="calculate()"
            class="w-100 btn-lg btn btn-dark mb-5 text-white"
            >Calcular Resultados</a
          >
        </form>
      </div>
      <div id="resultados" class="container">
        <div><h2>Seus Resultados:</h2></div>
        <hr />
        <div class="w-100 my-5">
          <h3>OEE: <span id="roee" class="badge"></span></h3>
          <p class="col-sm-6" id="rseg1"></p>
        </div>
        <hr />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
        <div class="w-100 row my-5">
          <div class="col col-lg-6 col-12">
            <p>O cálculo do OEE leva em considerações três indicadores:</p>
            <h4 id="rdisp">Disponibilidade</h4>
            <p>
              Representa o tempo em que a máquina está disponível, excluindo-se
              todas as paradas.
            </p>
            <h4 id="rperf">Performance</h4>
            <p>
              Representa os tempos de operações em vazio, as paradas momentâneas
              e as quedas de velocidade. Estas paradas são de difícil
              visualização.
            </p>
            <h4 id="rquali">Qualidade</h4>
            <p>Representa a taxa de qualidade do processo.</p>
          </div>
          <div class="col  col-lg-6 col-12" id="myDivChart1">
            <canvas id="myChart1" height="200"></canvas>
          </div>
        </div>
        <hr />
        <div class="w-100 row my-5" id="resultados2">
          <div class="col col-lg-6 col-12" id="myDivChart2">
            <canvas id="myChart2" height="300"></canvas>
          </div>
          <div class="col  col-lg-6 col-12">
            <h3>OEE Médio <span id="segmentoee"></span></h3>
            <p>
              De acordo com o banco de dados da
              <a href="https://eventos.produttare.com.br/efact">eFact</a> e
              publicações relevantes sobre tema, apresentamos o OEE padrão para
              o setor onde sua empresa esta inserida.
            </p>
            <h4>Potencial de Melhoria: <span id="roeediff"></span></h4>
            <p>
              Tendo como base o OEE padrão do setor em que a empresa está
              inserida e o OEE desta simulação, apresentamos o potencial de
              melhoria do OEE que a empresa pode ter caso atinja o padrão do
              setor.
            </p>
            <h4>Aumento de Lucro: <span id="rpot1"></span></h4>
            <p>
              Refere-se ao lucro que a empresa terá caso consiga atingir o OEE
              padrão do setor que está inserido e que o recurso simulado é um
              recurso crítico (gargalo), e o valor apresentado tem como base as
              variáveis de entrada desta simulação (Produção e Margem de
              Contribuição).
            </p>
            <h4>Potencial por Ponto Percentual: <span id="rpot2"></span></h4>
            <p>
              Refere-se ao valor do aumento de lucro para cada ponto percentual
              de aumento do OEE no recurso simulado, desde que o recurso seja
              crítico (gargalo).
            </p>
          </div>
        </div>
        <a onclick="recalculate()" class="btn btn-light btn-lg"
          >Calcular Novamente</a
        >
      </div>
    </section>
    <section class="py-lg-5 py-4">
      <div class="container py-lg-5 py-4 text-white">
        <div id="talk" class="row rounded px-lg-5 pt-lg-5 py-4">
          <div class="col col-md col-12 text-center text-lg-left">
            <h3>
              Quer controlar o OEE da sua empresa, identificar as perdas e ter
              dados confiáveis e em tempo real para a tomada de decisão ?
            </h3>
            <p class="lead">
              Conheça a solução eFact GPT, a maneira mais rápida de ter a
              empresa em sua mão.
            </p>
            <a
              href="http://eventos.produttare.com.br/efact"
              class="my-lg-5 my-4 btn btn-light btn-lg"
              >Solução eFact ➞</a
            >
          </div>
          <div class="col col-md col-12 text-center text-lg-right">
            <img
              width="260"
              src="https://d335luupugsy2.cloudfront.net/cms/files/76250/1570563258/$8p3tmiate74"
            />
          </div>
        </div>
      </div>
    </section>
  </body>
  <script>
    function recalculate() {
      document.getElementById("resultados").style.display = "none";
      document.getElementById("resultados2").style.display = "none";
      document.getElementById("fields").style.display = "block";
      document.getElementById("myDivChart1").innerHTML =
        "<canvas id='myChart1' height='200'></canvas>";
      document.getElementById("myDivChart2").innerHTML =
        "<canvas id='myChart2' height='200'></canvas>";
    }

    function calculate() {
      // Verifica os inputs
      var segmento = document.getElementById("segmento").value;
      var calendario = Number(document.getElementById("calendario").value);
      var paradasp = Number(document.getElementById("paradasp").value);
      var paradasnp = Number(document.getElementById("paradasnp").value);
      var tempo = Number(document.getElementById("tempo").value);
      var qnt = Number(document.getElementById("qnt").value);
      var refugo = Number(document.getElementById("refugo").value);
      var totalqnt = Number(document.getElementById("totalqnt").value);
      var price = Number(document.getElementById("price").value);
      var gargalo = document.getElementById("gargalo").checked;

      var benchmark = 0;
      var oee = 0;

      // Verifica o segmento
      if (segmento === "Alimentos e Bebidas") {
        benchmark = 0.85;
      } else if (segmento === "Autopeças") {
        benchmark = 0.85;
      } else if (segmento === "Construção Civil") {
        benchmark = 0.76;
      } else if (segmento === "Eletro & Eletrônicos") {
        benchmark = 0.9;
      } else if (segmento === "Montadoras") {
        benchmark = 0.9;
      } else if (segmento === "Móveis") {
        benchmark = 0.76;
      } else if (segmento === "Brinquedos") {
        benchmark = 0.85;
      } else if (segmento === "Têxtil") {
        benchmark = 0.9;
      } else if (segmento === "Semicondutores") {
        benchmark = 0.9;
      } else if (segmento === "Plásticos") {
        benchmark = 0.9;
      } else if (segmento === "Fundição") {
        benchmark = 0.76;
      } else if (segmento === "Aeroespacial & Defesa") {
        benchmark = 0.76;
      } else if (segmento === "Metal Mecânico") {
        benchmark = 0.85;
      } else if (segmento === "Maquinas e Equipamentos") {
        benchmark = 0.85;
      } else if (segmento === "Petroquimico") {
        benchmark = 0.95;
      } else if (segmento === "Produtos Médicos") {
        benchmark = 0.91;
      } else if (segmento === "Outros (industry average)") {
        benchmark = 0.85;
      }

      var tempoAgregacao = 0;
      var tempoCalendario = 0;
      var tempoAgregacaoBenchmark = 0;
      var tempoCalendarioBenchmark = 0;
      var potencialCrescimento = 0;
      var potencialProducao = 0;
      var potencialGanho = 0;
      var ganhoPercentual = 0;
      var tav = 0;
      var tdisp = 0;
      var disp = 0;
      var quali = 0;
      var perf = 0;
      var color = "#cddc39";

      // Calcula variáveis
      tav = qnt * tempo;
      tdisp = calendario - paradasp;

      // calcula indicadores
      oee = tav / tdisp;
      if (gargalo) {
        oee = tav / calendario;
      }

      disp = (tdisp - paradasnp) / tdisp;
      quali = 1 - refugo / qnt;
      perf = oee / (disp * quali);

      // Se oee > benchmark seguir
      if (benchmark > oee) {
        color = "#ff5722";
        tempoAgregacao = totalqnt * tempo;
        tempoCalendario = tempoAgregacao / oee;
        tempoAgregacaoBenchmark = benchmark * tempoCalendario;
        tempoCalendarioBenchmark = tempoAgregacaoBenchmark / tempo;
        potencialCrescimento = benchmark - oee;
        potencialProducao = tempoAgregacaoBenchmark - tempoAgregacao;
        potencialGanho = potencialProducao * price;
        ganhoPercentual = potencialGanho / (100 * potencialCrescimento);
        document.getElementById("rseg1").innerHTML =
          "Para o segmento " +
          segmento +
          " o OEE médio é " +
          (benchmark * 100).toFixed(2) +
          "% .Você possui " +
          (potencialCrescimento * 100).toFixed(2) +
          "% de potencial de melhorias. Veja abaixo qual o ganho financeiro caso a eficiência atinja os níveis médios de mercado.";
        document.getElementById("resultados2").style.display = "flex";
      }

      if (benchmark < oee) {
        document.getElementById("rseg1").innerHTML =
          "Para o segmento " +
          segmento +
          " o OEE médio é " +
          (benchmark * 100).toFixed(2) +
          ".Você está acima da média para o setor. Ótimo trabalho!";
      }

      document.getElementById("roee").innerHTML = (oee * 100).toFixed(2) + " %";
      document.getElementById("roee").style.backgroundColor = color;

      document.getElementById("rdisp").innerHTML =
        "Disponibilidade: " + (disp * 100).toFixed(2) + " %";
      document.getElementById("rperf").innerHTML =
        "Performance: " + (perf * 100).toFixed(2) + " %";
      document.getElementById("rquali").innerHTML =
        "Qualidade: " + (quali * 100).toFixed(2) + " %";
      document.getElementById("segmentoee").innerHTML =
        segmento + ": " + (benchmark * 100).toFixed(2) + " %";
      document.getElementById("roeediff").innerHTML =
        (potencialCrescimento * 100).toFixed(2) + " %";

      document.getElementById("rpot1").innerHTML =
        "R$ " + potencialGanho.toFixed(2);
      document.getElementById("rpot2").innerHTML =
        "R$ " + ganhoPercentual.toFixed(2);

      var ctx1 = document.getElementById("myChart1").getContext("2d");
      var ctx2 = document.getElementById("myChart2").getContext("2d");
      var data1 = [
        (disp * 100).toFixed(2),
        (perf * 100).toFixed(2),
        (quali * 100).toFixed(2),
        (oee * 100).toFixed(2)
      ];
      var data2 = [(oee * 100).toFixed(2), (benchmark * 100).toFixed(2)];
      var myBarChart1 = new Chart(ctx1, {
        type: "horizontalBar",
        data: {
          labels: ["Disp.", "Perf.", "Quali.", "OEE Calculado"],
          datasets: [
            {
              backgroundColor: ["#3f51b5", "#3f51b5", "#3f51b5", color],
              borderColor: ["#3f51b5", "#3f51b5", "#3f51b5", color],
              data: data1
            }
          ]
        },
        options: {
          scales: {
            xAxes: [
              {
                ticks: {
                  beginAtZero: true
                }
              }
            ]
          },
          legend: {
            display: false
          }
        }
      });
      var def = "OEE " + segmento;
      var myBarChart2 = new Chart(ctx2, {
        type: "bar",
        data: {
          labels: ["OEE Calculado", def],
          datasets: [
            {
              backgroundColor: [color, "#3f51b5"],
              borderColor: [color, "#3f51b5"],
              data: data2
            }
          ]
        },
        options: {
          scales: {
            yAxes: [
              {
                ticks: {
                  beginAtZero: true
                }
              }
            ]
          },
          legend: {
            display: false
          }
        }
      });

      document.getElementById("resultados").style.display = "block";
      document.getElementById("fields").style.display = "none";
      window.location.href = "#main";
    }
  </script>
  <style>
    body {
      font-family: Din Pro;
      color: black;
      background-color: white;
      font-size: 16px;
      /* background-image: url("https://d335luupugsy2.cloudfront.net/cms/files/76250/1568382268/$dppspxadlg6");
        background-position: top;
        background-size: cover; */
    }

    #resultados,
    #resultados2 {
      display: none;
    }

    #main {
      min-height: 40vh;
      background-image: linear-gradient(to bottom, #000 0%, transparent 100%),
        url("https://d335luupugsy2.cloudfront.net/cms/files/76250/1570563258/$ggx07uqblea");
      background-size: cover;
      background-position: top;
      box-shadow: inset -1px -9px 20px -10px #00000040;
    }

    /* #dates {
    background-image: url("https://d335luupugsy2.cloudfront.net/cms/files/76250/1568639098/$l8s69poahe");
    background-size: 1900px;
    background-position: top;
    } */

    .text-success {
      color: #69f761 !important;
    }

    .bg-success {
      color: black;
      background-image: linear-gradient(120deg, #69f761, #edd332);
    }

    .bg-success-2 {
      color: black;
      background-color: #69f761;
    }

    .rounded {
      border-radius: 8px !important;
    }

    ul {
      padding-inline-start: 1em;
    }

    #footer-light {
      margin-top: 4rem;
      background-color: white;
      padding-bottom: 4rem;
      border-top: 1px solid #cdcdcd;
    }

    #footer-color {
      display: none;
      background-image: linear-gradient(120deg, #ef4536, #f37335);
      height: 60px;
    }

    .table-dark {
      background-color: black;
      color: white;
    }

    table.table > thead > tr > th {
      border-top: none;
      font-size: 12px;
    }

    .calendar {
      max-width: 400px;
    }

    .w-fit-content {
      width: fit-content;
    }

    .btn-warning2 {
      background-color: #f88a3a;
      border-color: #f88a3a;
    }

    .btn-warning2:hover {
      filter: opacity(0.9);
    }

    #talk {
      background-image: linear-gradient(to right, #000 0%, transparent 50%),
        url("https://d335luupugsy2.cloudfront.net/cms/files/76250/1570563258/$2c5emhbepk9");
      background-size: cover;
    }

    @media (max-width: 1000px) {
      #main {
        min-height: 20vh;
        background-size: 140%;
      }

      .rounded {
        border-radius: 0px !important;
      }
    }
  </style>
  <script src="https://lgiacomazzi.github.io/produttare/popup/popup_raise_hand.js"></script>
</html>
